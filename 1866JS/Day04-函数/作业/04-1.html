<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript">
			function ch1(){
				var year=document.getElementById("text1").value;
				if (leapyear(year)===0) {
					alert("输入错误");
					document.getElementById("text1").value="";
				}else if (leapyear(year)===1) {
					alert("是闰年");
				}else if (leapyear(year)===2) {
					alert("不是闰年");
				}
			}
			function ch2(){
				for (var year=1999;year<=2050;year++) {
					if (leapyear(year)===1) {
						var p=document.getElementById("text2")
						p.innerHTML=p.innerHTML+year+"&nbsp;&nbsp;"
					} 
				}
			}
			function ch3(){
				var str=document.getElementById("text3").value;
				if (datedetection(str)) {
					alert("该日期合法");
				}else{
					alert("该日期不合法");
					document.getElementById("text3").value="";
				}
			}
			function ch4(){
				var str=document.getElementById("text4").value;
				if (datedetection(str)) {
					var arrdate=str.split("-");
					var year=parseInt(arrdate[0],10);
					var month=parseInt(arrdate[1],10);
					var day=parseInt(arrdate[2],10);
					if (leapyear(year)===1) {
						arr=[0,31,29,31,30,31,30,31,31,30,31,30,31];
						var sum=0;
						for (i=0;i<month;i++) {
							sum=sum+arr[i];
						}
						sum=sum+day;
						alert("是今年的第"+sum+"天");
					}else if (leapyear(year)===2) {
						arr=[0,31,28,31,30,31,30,31,31,30,31,30,31];
						var sum=0;
						for (i=0;i<month;i++) {
							sum=sum+arr[i];
						}
						sum=sum+day;
						alert("是今年的第"+sum+"天");
					}
				}else{
					alert("日期不合法");
				}
			}
			function ch5(){
				var i=0;
				var arr=new Array;
				var max=0;
				while (1){
					var num=prompt("输入参数");
					if (num===null) {
						alert("结束");
						break;
					} else if(parseInt(num)!==Number(num)){
						alert("输入错误");
						continue;
					}else{
						arr[i]=num;
						console.log(arr[i]);
						console.log(i);
						i++;
					}
				}
				for (var j=0;j<arr.length;j++) {
					if (parseInt(arr[j])>parseInt(max)) {
						max=arr[j];
					} else{
						max=max;
					}
				}
				alert("最大值为"+max);
				
			}
			function leapyear (year) {
				var flag;
				if (parseInt(year)!==Number(year)) {
					flag=0;
					return flag;
				}else if((year%4===0&&year%100!==0)||year%400===0){
					flag=1;
					return flag;
				}else{
					flag=2;
					return flag;
				}
			}
			function datedetection (str) {
				if (str.indexOf("-")==-1) {
					return false;
				}else{
					var arrd=str.split("-");
					if (arrd.length==3) {
						var y=parseInt(arrd[0],10);
						var m=parseInt(arrd[1],10);
						var d=parseInt(arrd[2],10);
						if (y&&y>0) {
							if (m&&m>=1&&m<=12) {
								switch (m){
									case 1:
									case 3:
									case 5:
									case 7:
									case 8:
									case 10:
									case 12:
										if (d&&d>=1&&d<=31) {
											return true;
										}else{
											return false;
										}
										break;
									case 4:
									case 6:
									case 9:
									case 11:
										if (d&&d>=1&&d<=30) {
											return true;
										} else{
											return false;
										}
										break;
									case 2:
										if (leapyear(y)===1) {
											if (d&&d>=1&&d<=29) {
												return true;
											} else{
												return false;
											}
										} else if(leapyear(y)===2){
											if (d&&d>=1&&d<=28) {
												return true;
											} else{
												return false;
											}
										}
										break;
								}
							}else{
								return false;
							}
						}else{
							return false;
						}
					}else{
						return false;
					}
				}
			}
		</script>
	</head>
	<body>
		<h1>1.判断输入年份是否是闰年</h1>
		<input type="text" name="" id="text1" value="" placeholder="输入年份" />
		<button id="btn1" onclick="ch1()">确认</button>
		<h1>2.输出1999——2050年中所有的闰年</h1>
		<button id="btn2" onclick="ch2()">输出</button>
		<h2 id="text2"></h2>
		<h1>3.输入日期，判断是否合法</h1>
		<input type="text" id="text3" value="" placeholder="输入日期(yyyy-MM-dd)" />
		<button id="btn3" onclick="ch3()">确认</button>
		<h1>4.判断输入日期是该年的第几天</h1>
		<input type="text" id="text4" value="" placeholder="输入日期(yyyy-MM-dd)" />
		<button id="btn4" onclick="ch4()">确认</button>
		<h1>5.计算输入参数的最大值</h1>
		<button id="btn5" onclick="ch5()">输入参数</button>
	</body>
</html>
