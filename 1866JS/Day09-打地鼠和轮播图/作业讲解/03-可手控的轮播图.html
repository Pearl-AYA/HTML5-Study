<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>å¯æ‰‹æ§çš„è½®æ’­å›¾</title>
		<style type="text/css">
			.div_1{
				width: 700px;
				height: 400px;
				margin: 0 auto;
				position: relative;
				overflow: hidden;
			}
			.div_2{
				width: 4900px;
				height: 400px;
				position: absolute;
				left: 0;
				top: 0;
			}
			img{
				width: 700px;
				height: 400px;
				float: left;
			}
			.div_3{
				position: absolute;
				height: 40px;
				line-height: 40px;
				width: 700px;
				background: rgba(0, 0, 0, 0.5);
				top: 360px;
				margin: 0;
				padding: 0;
				list-style: none;
				text-align: center;
			}
			li{
				display: inline-block;
				height: 24px;
				width: 24px;
				background-color: chartreuse;
				border-radius: 50%;
				color: blue;
				line-height: 24px;
				font-weight: bold;
			}
			.div_4{
				width: 50px;
				height: 70px;
				position: absolute;
				background: rgba(0,0,0,0.4);
				top: 140px;
				left: 0;
				color: white;
				font-size: 40px;
				font-weight: 900;
				text-align: center;
				cursor: pointer;
				display: none;
			}
			.div_5{
				width: 50px;
				height: 70px;
				position: absolute;
				background: rgba(0,0,0,0.4);
				top: 140px;
				left: 650px;
				color: white;
				font-size: 40px;
				font-weight: 900;
				text-align: center;
				cursor: pointer;
				display: none;
			}
			.div_1:hover .div_4{
				display: block;
			}
			.div_1:hover .div_5{
				display: block;
			}
		</style>
	</head>
	<body>
		<!--div.div_1>div.div_2>img[src=img/$_1.jpg]*6-->
		<div class="div_1">
			<div class="div_2"
				onmouseover="Mouse()"
				onmouseout="Mout()">
				<img src="img/1_1.jpg" alt="" />
				<img src="img/2_1.jpg" alt="" />
				<img src="img/3_1.jpg" alt="" />
				<img src="img/4_1.jpg" alt="" />
				<img src="img/5_1.jpg" alt="" />
				<img src="img/6_1.jpg" alt="" />
				<img src="img/1_1.jpg" alt="" />
			</div>
			<!--=============-->
			<ul class="div_3">
				<li onmouseover="mouse(0)" onmouseout="out()">1</li>
				<li onmouseover="mouse(1)" onmouseout="out()">2</li>
				<li onmouseover="mouse(2)" onmouseout="out()">3</li>
				<li onmouseover="mouse(3)" onmouseout="out()">4</li>
				<li onmouseover="mouse(4)" onmouseout="out()">5</li>
				<li onmouseover="mouse(5)" onmouseout="out()">6</li>
			</ul>
			<!--================-->
			<div class="div_4" onclick="leftMove()"
				onmouseover="ON()"
				onmouseout="OUT()"><<</div>
			<div class="div_5" onclick="rightMove()"
				onmouseover="ON()"
				onmouseout="OUT()">>></div>
		</div>
	</body>
	<script type="text/javascript">
		var div = document.getElementsByClassName("div_2")[0]
		var li = document.getElementsByTagName("li")
		var left = 0
		var time
		var timer
		var timeOut
		var j = 0
		time = setTimeout(function(){
			timer = setInterval(output, 5)
		}, 2000)
		// å…ˆåˆå§‹åŒ–ç¬¬ä¸€ä¸ªliçš„é¢œè‰²
		li[0].style.background = "red"
		/**
		 * è¾“å‡º
		 */
		function output(){
			if(left == -4200){
				left = 0
			}
			// å‘å·¦è½®æ’­
			Left()
			if(left % 700 == 0){
				j = Math.abs(left / 700)
				Li(j)
				console.log("j = " + j)
				clearInterval(timer)
				timeOut = setTimeout(function(){
					timer = setInterval(output, 5)
				}, 2000)
			}
		}
		/**
		 * æ˜¾ç¤ºliè¡¨æ ¼çš„å‡½æ•°
		 */
		function Li(j){
			for (var i = 0; i < 6; i++) {
				li[i].style.background = "chartreuse"
			}
			if(j == 6){
				j = 0
			}
			li[j].style.background = "red"
		}
		// å‘å·¦è½®æ’­
		function Left(){
			left -= 10
			div.style.left = left + 'px'
		}
		//==============
		/**
		 * é¼ æ ‡æ”¾ä¸Šå»çš„æ—¶å€™
		 */
		function Mouse(){
			clearInterval(timer)
			clearTimeout(timeOut)
			clearTimeout(time)
			console.log("ğŸ")
			// é¼ æ ‡æ”¾ä¸Šå»çš„æ—¶å€™ï¼Œæ˜¾ç¤ºæ•´å¼ å›¾ç‰‡ï¼Œè€Œä¸æ˜¯æœ‰äº›ç§»åŠ¨äº†
			// åŠå¼ çš„å›¾ç‰‡
			left = j * -700
			div.style.left = left + 'px'
		}
		// é¼ æ ‡ç¦»å¼€çš„æ—¶å€™
		function Mout(){
			timer = setInterval(output, 5)
		}
		/**
		 * é¼ æ ‡æ”¾åˆ°è¡¨æ ¼ä¸Šçš„æ—¶å€™çš„æ•ˆæœ
		 * é¦–å…ˆåœæ­¢å„ç§å®šæ—¶å™¨
		 */
		function mouse(x){
			clearInterval(timer)
			clearInterval(time)
			clearInterval(timeOut)
			
			left = x * -700
			for(var i = 0; i < 6; i ++){
				li[i].style.background = "chartreuse"
			}
			li[x].style.background = "red"
			div.style.left = left + 'px'
		}
		// é¼ æ ‡ç¦»å¼€è¡¨æ ¼çš„æ—¶å€™çš„æ•ˆæœ
		function out(){
			for(var i = 0; i < 6; i++){
				li[i].style.background = "chartreuse"
			}
			timer = setInterval(output, 5)
		}
		//==============
		// é¼ æ ‡ç‚¹å‡»å·¦ç§»çš„æ–¹æ³•
		function leftMove(){
			if(left == 0){
				left = -3500
			}else{
				left += 700
			}
			div.style.left = left + 'px'
			j = Math.abs(left / 700)
			for (var i = 0; i < 6; i++) {
				li[i].style.background = "chartreuse"
			}
			if(j == 6){
				j = 0
			}
			li[j].style.background = "red"
		}
		// é¼ æ ‡ç‚¹å‡»å·¦ç§»çš„æ–¹æ³•
		function rightMove(){
			if(left == -4200){
				left = -700
			}else{
				left -= 700
			}
			div.style.left = left + 'px'
			j = Math.abs(left / 700)
			for (var i = 0; i < 6; i++) {
				li[i].style.background = "chartreuse"
			}
			if(j == 6){
				j = 0
			}
			li[j].style.background = "red"
		}
		// é¼ æ ‡ä¸€æ”¾ä¸Šå»ï¼Œç«‹å³åœæ­¢å„ç§å®šæ—¶å™¨
		function ON(){
			clearInterval(timer)
			clearInterval(time)
			clearInterval(timeOut)
		}
		// é¼ æ ‡ä¸€ç¦»å¼€ï¼Œç«‹å³å¼€å¯å„ç§å®šæ—¶å™¨
		function OUT(){
			timer = setInterval(output, 5)
		}
	</script>
</html>
