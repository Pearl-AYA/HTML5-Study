<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>å›¾ç‰‡æ‹–æ‹½çš„å…·ä½“å®ç°</title>
		<style type="text/css">
			div{
				width: 300px;
				height: 700px;
				border: 1px dashed red;
				float: left;
			}
		</style>
	</head>
	<body>
		<div id="box1">
			<!--æ‹–æ‹½å…ƒç´ -->
			<!--ã€draggableã€‘è®©å…ƒç´ å¯ä»¥æ‹–åŠ¨ï¼Œé»˜è®¤æ˜¯trueå¯ä»¥æ‹–åŠ¨-->
			<img src="img/drag.jpg" draggable="true" id="dragImg"/>
			<img src="img/cardKingClub.png" draggable="true" id="cardKingClubImg"/>
		</div>
		<!--ç›®æ ‡å…ƒç´ -->
		<div id="box2"></div>
	</body>
	<script type="text/javascript">
		var img = document.querySelector("#dragImg")
		var img2 = document.querySelector("#cardKingClubImg")
		var box1 = document.querySelector("#box1")
		var box2 = document.querySelector("#box2")
		// ã€æ‹–æ‹½å…ƒç´ ã€‘ç›¸å…³äº‹ä»¶
		img.ondragstart = function(event){
			console.log("=====å¼€å§‹æ‹–æ‹½=======")
			//=======================
			/**
			 * ã€æ³¨æ„ã€‘è¿™é‡Œè¦è®¾ç½®ä¸€ä¸‹æŠ“çš„æ˜¯è°
			 * dataTransferæ˜¯äº‹ä»¶eventçš„æ•°æ®è½¬æ¢å¯¹è±¡ï¼Œå®ƒæœ‰ä¸€ä¸ªsetData()æ–¹æ³•
			 * å¯ä»¥å°†äº‹ä»¶eventçš„ç›®æ ‡targetçš„idï¼Œå³dragImgèµ‹å€¼ç»™dragId
			 * å°†æ¥dropçš„æ—¶å€™æ–¹ä¾¿æ‰¾åˆ°åˆ°åº•æ˜¯è°è¢«æ‹–æ‹½äº†
			 * ã€æ³¨æ„ã€‘è¿™é‡Œçš„targetå°±æ˜¯æŠ“å–çš„å¯¹è±¡ï¼ŒsetDataä¹Ÿåªæ˜¯è®¾ç½®ä¸€ä¸ªã€é”®å€¼å¯¹ã€‘
			 * å¦‚æœæƒ³ç”¨classå»æ‰¾æŸä¸ªå…ƒç´ ï¼Œåˆ™è¦è®¿é—®event.target.className
			 */
			event.dataTransfer.setData("dragId", event.target.id)
		}
		img2.ondragstart = function(event){
			event.dataTransfer.setData("dragId", event.target.id)
		}
		box2.ondragover = function(event){
			console.log("=====æ‹–æ‹½å…ƒç´ ä½äºç›®æ ‡å…ƒç´ ä¸Šæ–¹æŒç»­è§¦å‘======")
			// ã€ğŸ·ã€‘åœ¨è¿™ä¸ªäº‹ä»¶ä¸­ï¼Œéœ€è¦é˜»æ­¢é»˜è®¤è¡Œä¸ºæ‰èƒ½è§¦å‘ondropäº‹ä»¶
			event.preventDefault()
		}
		box1.ondragover = function(event){
			console.log("=====æ‹–æ‹½å…ƒç´ ä½äºç›®æ ‡å…ƒç´ ä¸Šæ–¹æŒç»­è§¦å‘======")
			// ã€ğŸ·ã€‘åœ¨è¿™ä¸ªäº‹ä»¶ä¸­ï¼Œéœ€è¦é˜»æ­¢é»˜è®¤è¡Œä¸ºæ‰èƒ½è§¦å‘ondropäº‹ä»¶
			event.preventDefault()
		}
		box2.ondrop = function(event){
			console.log("====ğŸğŸğŸå½“æ‹–æ‹½å…ƒç´ ä½äºç›®æ ‡å…ƒç´ ä¸Šæ–¹å¹¶ä¸”æ¾å¼€é¼ æ ‡çš„æ—¶å€™è§¦å‘=====")
			//===================
			// åœ¨è¿™é‡Œè·å–å‰é¢å­˜èµ·æ¥çš„æ‹–æ‹½å…ƒç´    dragIdå°±ç›¸å½“äºdragImg
			var dragId = event.dataTransfer.getData("dragId")
			//è·å–åˆ°dragIdä¹‹åï¼Œé€šè¿‡è¿™ä¸ªidå€¼å¯»æ‰¾ã€è¢«æ‹–åŠ¨çš„å›¾ç‰‡çš„imgæ ‡ç­¾ã€‘
			var dragEle = document.querySelector("#" + dragId)
			this.appendChild(dragEle)
		}
		box1.ondrop = function(event){
			console.log("====ğŸğŸğŸå½“æ‹–æ‹½å…ƒç´ ä½äºç›®æ ‡å…ƒç´ ä¸Šæ–¹å¹¶ä¸”æ¾å¼€é¼ æ ‡çš„æ—¶å€™è§¦å‘=====")
			//===================
			// åœ¨è¿™é‡Œè·å–å‰é¢å­˜èµ·æ¥çš„æ‹–æ‹½å…ƒç´    dragIdå°±ç›¸å½“äºdragImg
			var dragId = event.dataTransfer.getData("dragId")
			//è·å–åˆ°dragIdä¹‹åï¼Œé€šè¿‡è¿™ä¸ªidå€¼å¯»æ‰¾ã€è¢«æ‹–åŠ¨çš„å›¾ç‰‡çš„imgæ ‡ç­¾ã€‘
			var dragEle = document.querySelector("#" + dragId)
			this.appendChild(dragEle)
		}
	</script>
</html>
